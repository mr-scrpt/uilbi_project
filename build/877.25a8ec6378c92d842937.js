"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[877],{4877:(e,n,r)=>{r.r(n),r.d(n,{ProfilePage:()=>z});var t=r(5893),o=r(1072),a=r(2418),i=r(7294),l=(0,i.lazy)((function(){return new Promise((function(e){setTimeout((function(){return e(r.e(310).then(r.bind(r,5310)).then((function(e){return{default:e.ProfileCard}})))}),1e3)}))})),u=r(4268),c=(0,u.hg)("profile/fethcProfileData",(function(e,n){return r=void 0,t=void 0,a=function(){var r,t,o,a;return function(e,n){var r,t,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(u){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(i=0)),i;)try{if(r=1,t&&(o=2&l[0]?t.return:l[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,l[1])).done)return o;switch(t=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,t=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=n.call(e,i)}catch(e){l=[6,e],t=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}(this,(function(i){switch(i.label){case 0:r=n.rejectWithValue,t=n.extra,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.api.get("/profile/".concat(e))];case 2:if(!(o=i.sent()).data)throw new Error;return[2,o.data];case 3:return a=i.sent(),console.log(a),[2,r("api-error-profile-message")];case 4:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,n){function i(e){try{u(a.next(e))}catch(e){n(e)}}function l(e){try{u(a.throw(e))}catch(e){n(e)}}function u(n){var r;n.done?e(n.value):(r=n.value,r instanceof o?r:new o((function(e){e(r)}))).then(i,l)}u((a=a.apply(r,t||[])).next())}));var r,t,o,a})),s=(0,u.hg)("profile/updataUpdateData",(function(e,n){return r=void 0,t=void 0,a=function(){var r,t,o,a;return function(e,n){var r,t,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(u){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(i=0)),i;)try{if(r=1,t&&(o=2&l[0]?t.return:l[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,l[1])).done)return o;switch(t=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,t=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=n.call(e,i)}catch(e){l=[6,e],t=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}(this,(function(i){switch(i.label){case 0:r=n.rejectWithValue,t=n.extra,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.api.put("/profile/".concat(e.id),e)];case 2:if(!(o=i.sent()).data)throw new Error;return[2,o.data];case 3:return a=i.sent(),console.log(a),[2,r("api-error-profile-message")];case 4:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,n){function i(e){try{u(a.next(e))}catch(e){n(e)}}function l(e){try{u(a.throw(e))}catch(e){n(e)}}function u(n){var r;n.done?e(n.value):(r=n.value,r instanceof o?r:new o((function(e){e(r)}))).then(i,l)}u((a=a.apply(r,t||[])).next())}));var r,t,o,a})),f=(0,u.oM)({name:"profile",initialState:{data:void 0,isLoading:!1,error:void 0,readonly:!0},reducers:{},extraReducers:function(e){e.addCase(c.pending,(function(e){e.isLoading=!0,e.error=void 0})),e.addCase(c.fulfilled,(function(e,n){e.isLoading=!1,e.error=void 0,e.data=n.payload})),e.addCase(c.rejected,(function(e,n){e.isLoading=!1,e.error=n.payload})),e.addCase(s.pending,(function(e){e.isLoading=!0,e.error=void 0})),e.addCase(s.fulfilled,(function(e,n){e.isLoading=!1,e.error=void 0,e.data=n.payload})),e.addCase(s.rejected,(function(e,n){e.isLoading=!1,e.error=n.payload}))}}),d=(f.actions,f.reducer),p=function(e){var n;return null===(n=e.profile)||void 0===n?void 0:n.data},v=function(e){var n;return null===(n=e.profile)||void 0===n?void 0:n.error},h=function(e){var n;return null===(n=e.profile)||void 0===n?void 0:n.isLoading},b=r(5346);var y=function(){return y=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},y.apply(this,arguments)},w=(0,i.memo)((function(e){var n=e.className,r=e.reset,i=e.save,l=(0,o.$G)("profile_editor").t,u=(0,a.A)("ARz0wr",[n],{});return(0,t.jsxs)("div",y({className:u},{children:[(0,t.jsx)("div",{className:"GJKtzK"}),(0,t.jsx)(b.zx,y({onClick:i},{children:l("profile-save-button")})),(0,t.jsx)(b.zx,y({onClick:r,view:b.Kf.SECONDARY},{children:l("profile-reset-button")}))]}))})),g=function(e){var n;return null===(n=e.profileEditor)||void 0===n?void 0:n.validationErrors},m=r(7446),x=(0,m.Ry)({firstname:(0,m.Z_)([(0,m.Ei)(2,"valdate-profile-error-fistname-length")])}),E=(0,u.hg)("profileEditor/validateAndUpdateData",(function(e,n){return r=void 0,t=void 0,a=function(){var r,t;return function(e,n){var r,t,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(u){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(i=0)),i;)try{if(r=1,t&&(o=2&l[0]?t.return:l[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,l[1])).done)return o;switch(t=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,t=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=n.call(e,i)}catch(e){l=[6,e],t=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}(this,(function(o){r=n.rejectWithValue;try{return(0,m.Qc)(x,e),[2,null]}catch(e){return t=(0,m.xH)(e).nested,[2,r(t)]}return[2]}))},new((o=void 0)||(o=Promise))((function(e,n){function i(e){try{u(a.next(e))}catch(e){n(e)}}function l(e){try{u(a.throw(e))}catch(e){n(e)}}function u(n){var r;n.done?e(n.value):(r=n.value,r instanceof o?r:new o((function(e){e(r)}))).then(i,l)}u((a=a.apply(r,t||[])).next())}));var r,t,o,a})),j=(0,u.oM)({name:"profileEditor",initialState:{data:{id:"",firstname:"",lastname:"",age:null,currency:"",country:"",city:"",avatar:"",role:""},editable:!1,validationErrors:null},reducers:{setUserData:function(e,n){e.data=n.payload,e.validationErrors=null},setEditable:function(e,n){e.editable=n.payload,e.validationErrors=null}},extraReducers:function(e){e.addCase(E.pending,(function(e){e.validationErrors=null})),e.addCase(E.fulfilled,(function(e){e.validationErrors=null})),e.addCase(E.rejected,(function(e,n){e.validationErrors=n.payload||null}))}}),k=j.actions,C=j.reducer,O=function(e){var n;return null===(n=e.profileEditor)||void 0===n?void 0:n.data},P=function(e){var n;return null===(n=e.profileEditor)||void 0===n?void 0:n.editable},S=(0,u.hg)("profileEditor/validateData",(function(e,n){return r=void 0,t=void 0,a=function(){var r,t,o,a,i;return function(e,n){var r,t,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(u){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(i=0)),i;)try{if(r=1,t&&(o=2&l[0]?t.return:l[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,l[1])).done)return o;switch(t=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,t=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=n.call(e,i)}catch(e){l=[6,e],t=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}(this,(function(l){switch(l.label){case 0:r=n.rejectWithValue,t=n.dispatch,o=n.getState,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,t(E(e))];case 2:return l.sent(),a=o(),(null===(i=a.profileEditor)||void 0===i?void 0:i.validationErrors)||(t(s(e)),t(k.setEditable(!1))),[3,4];case 3:return l.sent(),r("server-error"),[3,4];case 4:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,n){function i(e){try{u(a.next(e))}catch(e){n(e)}}function l(e){try{u(a.throw(e))}catch(e){n(e)}}function u(n){var r;n.done?e(n.value):(r=n.value,r instanceof o?r:new o((function(e){e(r)}))).then(i,l)}u((a=a.apply(r,t||[])).next())}));var r,t,o,a})),L=r(743),N=r(9250),T=r(5691),G=r(9762),A=r(4305);var D=function(){return D=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},D.apply(this,arguments)},R=function(e){var n=e.className,r=(0,A.T)(),u=k.setUserData,s=k.setEditable,f=(0,o.$G)("profile_editor").t,y=(0,L.v9)(p),m=(0,L.v9)(h),x=(0,L.v9)(v),E=(0,L.v9)(O),j=(0,L.v9)(P),R=(0,L.v9)(g),U=(0,N.UO)().id;(0,i.useEffect)((function(){U&&r(c(U))}),[r,U]);var z={profile:d,profileEditor:C},F=(0,a.A)("fnTghO",[n],{}),M=(0,i.useCallback)((function(){y&&(r(s(!0)),r(u(y)))}),[r,s,u,y]),W=(0,i.useCallback)((function(){return e=void 0,n=void 0,o=function(){return function(e,n){var r,t,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(u){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(i=0)),i;)try{if(r=1,t&&(o=2&l[0]?t.return:l[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,l[1])).done)return o;switch(t=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,t=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=n.call(e,i)}catch(e){l=[6,e],t=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}(this,(function(e){return E&&r(S(E)),[2]}))},new((t=void 0)||(t=Promise))((function(r,a){function i(e){try{u(o.next(e))}catch(e){a(e)}}function l(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,l)}u((o=o.apply(e,n||[])).next())}));var e,n,t,o}),[E,r]),_=(0,i.useCallback)((function(){y&&(r(u(y)),r(s(!1)))}),[y,r,s,u]),V=(0,i.useCallback)((function(e){E&&r(u(D(D({},E),{firstname:e})))}),[r,u,E]),K=(0,i.useCallback)((function(e){E&&r(u(D(D({},E),{country:e})))}),[r,u,E]),$=(0,i.useCallback)((function(e){E&&r(u(D(D({},E),{currency:e})))}),[r,u,E]),B=j?E:y;return(0,t.jsx)(G.W,D({reducerList:z,removeAfterUnmount:!0},{children:(0,t.jsxs)(t.Fragment,{children:[m&&(0,t.jsx)(T.a,{}),x&&(0,t.jsx)("div",{children:x}),!m&&!x&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.zx,D({onClick:M,disabled:j},{children:f("profile-edit-button")})),null==R?void 0:R.firstname,(0,t.jsx)(l,{className:F,profile:B,error:x,isLoading:m,isEditable:j,onChangeFirstName:V,onChangeCountry:K,onChangeCurrency:$,errorFirstName:null==R?void 0:R.firstname}),j&&(0,t.jsx)(w,{save:W,reset:_})]})]})}))};var U=function(){return U=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},U.apply(this,arguments)},z=function(e){var n=e.className,r=(0,o.$G)("page_profile").t,i=(0,a.A)("HuBbiB",[n],{});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",U({className:i},{children:r("Profile_Page")})),(0,t.jsx)(R,{})]})}},9762:(e,n,r)=>{r.d(n,{W:()=>l});var t=r(5893),o=r(7294),a=r(743),i=r(4305),l=(0,o.memo)((function(e){var n=e.children,r=e.reducerList,l=e.removeAfterUnmount,u=(0,a.oR)(),c=(0,i.T)();return(0,o.useEffect)((function(){var e=u.reducerManager.getReducerMap();return Object.entries(r).forEach((function(n){var r=n[0],t=n[1];e[r]||(console.log(" + mount reducer ".concat(r)),u.reducerManager.add(r,t),c({type:"@INIT ".concat(r," reducer")}))})),function(){l&&Object.entries(r).forEach((function(e){var n=e[0];console.log(" - unmount reducer ".concat(n)),u.reducerManager.remove(n),c({type:"@DESTROY ".concat(n," reducer")})}))}}),[]),(0,t.jsx)(t.Fragment,{children:n})}))}}]);